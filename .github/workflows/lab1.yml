# This is a basic workflow to help you get started with Actions

name: Lab1

# Controls when the workflow will run
on: [push, create]
  # Triggers the workflow on push or pull request events but only for the main branch
# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  # This workflow contains a single job called "build"
  build:
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the job
    steps:
      - name: Check out code 
        uses: actions/checkout@v2
      - name: Yandex Image Registry Action
        # You may pin to the exact commit or the version.
        # uses: pyropy/yandex-cloud-image-registry@a721fe8c6627d0f4c36f73b7ee269cf2a95883a1
        uses: pyropy/yandex-cloud-image-registry@v0.8-alpha
        with:
          # Source directory of Dockerfile
          # JSON key generated by Yandex Cloud CLI
          YC_SERVICE_ACCOUNT_KEY_FILE: '{"id": "ajejqp3kdpal9drsah1n","service_account_id": "ajetf1s4hqpo9q2elt2o","created_at": "2021-10-19T12:12:31.477573846Z","key_algorithm": "RSA_2048","public_key": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA3J8BCWqPS5cNqndUvr+w\ny8lf0dNhBHZ+u/Z2yHMmIRGHkIz4egICht18Asb9D2tDIyaLiKPZM3JHwnZGrpCr\nzrlkvTewWnflAyfjfg/L9169YirAVAK+l/d3e5DHh3JyLaplns+e6zZFlsLnQixt\nK92zAtVwmlRWue8YUXzryfhtlNAltKDvq7OL8yS7apS+1HiI+zSuN73PYY9I22o4\n0UrXpURn5QhO0LwrmRlnLVoB4ZvM1hyVJq2KL6hU4ecanB8MEbU6NBhTou1J+idy\ns+T3uoXRGk16kCIZALBx1CfE7JO+R8xAEPa70LZQZcp/jTgFODN3YbtoL5znqd2I\nrwIDAQAB\n-----END PUBLIC KEY-----\n","private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDcnwEJao9Llw2q\nd1S+v7DLyV/R02EEdn679nbIcyYhEYeQjPh6AgKG3XwCxv0Pa0MjJouIo9kzckfC\ndkaukKvOuWS9N7Bad+UDJ+N+D8v3Xr1iKsBUAr6X93d7kMeHcnItqmWez57rNkWW\nwudCLG0r3bMC1XCaVFa57xhRfOvJ+G2U0CW0oO+rs4vzJLtqlL7UeIj7NK43vc9h\nj0jbajjRStelRGflCE7QvCuZGWctWgHhm8zWHJUmrYovqFTh5xqcHwwRtTo0GFOi\n7Un6J3Kz5Pe6hdEaTXqQIhkAsHHUJ8Tsk75HzEAQ9rvQtlBlyn+NOAU4M3dhu2gv\nnOep3YivAgMBAAECggEARky4VNrKrGiGp0H9FAca++TADqlPac+kVJqVgQwII1Nl\noi75Yk9PpM/gmzXzHz2rmADJR5IGPPl2WkW8AhYBWQ8ERbMAE+POarIEMIAyGzHq\nIOTEgkCZoOzu+sXIfqV+MoTweqln10Vk6URT0mc7plWvnACNL/Ad7oN8eULYE3Pp\nSsHzj9GNJRqqntVQh3r22bxyL/7wzX7wApQ3CUqF6Y44Hz1aJ+pxqvO2P1rB1h4J\nBsWCOTd92vTNbe/BL123e29michQDVNXkl/dp3B6aVCb0fPLWX66uvTUNIy+uBdP\nWJM3CPMamLO7P43x44W5TPa2P+Qnq7aLAlA8PhpbeQKBgQD3cck1vbo4pVXGlFU7\nQXoAd2KbL0smZX4DXvSGS77qUORaAeE4r80+/+nEvpxUyqPgpoj7+nfkelcH3lGo\nLzTww9NT6rXujEp8bLbirGDGkw2n22GOneqmb8ivYrEF1pZvjxQwTiwmTUzE+wTe\nkTmWY5PbKNeUh3c5MlghIB7uUwKBgQDkP8ujQ52BiCPW4cveGiFlZKIob+VzatZd\ngNSTvR4rO2sqUmy3hbCg590dDgliJ6y84f6jUetittLIpkcBozoBOs8JIa3DsqXz\nrhw3637vlB9Rgef3pHvI45A7WRE34WWNUNDY6TWNjQKh7U0Z5HVLP7s+tWlNeAJ3\nuO9sUlPYtQKBgFT3lYgGpjNdUp7lwH6gdSxD0nBHRR7iKustZ/nVeLEtJbxieNvm\nQiwn5DXS3gufqbYyeUdNMm4aNFhXVuLRkvQ5yg8+wUowkkM3cXVUi8akKERDaLR4\nNWMBb4AJ+49tqCqWjvAnZ7GfSYU6TOnAJG4ns1XGKICwI5hYWTrGtNhRAoGBAKqV\n00fNvOWWLdLnJkp0FQmGUHsQRdggvN1c74MLEIUW/1y+BWqTjBJ1t5eDahfltv/j\nlz/Qda9tG9PCEcdzimJo5VrZxNhBqC2arpRMeK3tcgqkoA1A7RKSoLT6OBgfaJpZ\nD/1NLi0Aejsy8zCqwc7fbr3LL0wqqQ15NdcrIGcRAoGBAIf6COsO4EqlMmnJf+xj\nQutzEFqnA5P5ITMb1IylMaqdwczFo3r8Gt/EYdZcpPzG6tpr82lUVF6957z2Y+qK\n/f3PqTZbKDO6mz9DANW2RnciwPK0BQZaDU5P75Hr7x6WIKwvx1K3a8+2DOCizddh\nZrFg/uPcZVg3hOsDevf8bbWs\n-----END PRIVATE KEY-----\n"}'
          # ID of your Image registry on Yandex Cloud
          YC_IMG_REGISTRY_ID: cr.yandex/crp2dg4s9q5he94070t8
          # Name for your Docker image
          DOCKER_IMG_NAME: lab1



